{% extends "base.html" %}

{% block custom_style %}
<style>
    body {
        background-color: #f8f9fa;
    }

    h1 {
        color: #007bff;
    }

    ul {
        list-style-type: none;
        padding: 0;
        max-height: 400px; /* Ajusta la altura máxima de la lista de valores */
        overflow-y: auto; /* Añadir scrollbar si es necesario */
    }

    li {
        margin-bottom: 20px;
    }

    strong {
        color: #007bff;
    }

    .box {
        margin-top: 20px;
    }

    .field {
        margin-bottom: 15px;
    }

    .input {
        width: 100%;
        padding: 10px;
        box-sizing: border-box;
    }

    .button {
        background-color: #007bff;
        color: #ffffff;
        border: none;
        border-radius: 4px;
        padding: 10px;
        cursor: pointer;
        width: 100%;
    }

    .button:hover {
        background-color: #0056b3;
    }

    .error {
        color: #dc3545;
        margin-top: 10px;
    }

    .container {
        overflow-y: auto; /* Añadir scrollbar al contenedor si es necesario */
    }
</style>
{% endblock %}

{% block content %}
<div class="container">
    <h1>Database Information</h1>
    <strong>ID:</strong> {{ database.id }} <br>
    <strong>Url:</strong> {{ database.url }} <br>
    <strong>Name:</strong> {{ database.name }} <br>
    <ul>
        {% for par in database.pares %}
        <li>
            {% set pair = par.split(":") %}
            <strong>Clave:</strong> {{ pair[0] }} <br>
            <strong>Valor:</strong> {{ pair[1] }}
        </li>
        {% endfor %}
    </ul>
    <div class="box">
        <form method="post" action="/databaseInfo?db_id={{ db_id }}">
            {{ form1.hidden_tag() }}
            <input type="hidden" name="_method" value="PUT">
            <div class="field">
                <input class="input is-large" type="text" name="key" placeholder="Key">
            </div>

            <div class="field">
                <input class="input is-large" type="text" name="value" placeholder="Value">
            </div>

            <button class="button is-block is-info is-large" type="submit">Add</button>
        </form>
        {% if error1 %}
        <p class="error"><strong>Error:</strong> {{ error1 }}</p>
        {% endif %}
    </div>
    
    <div class="box">
        <form method="post" action="/databaseInfo?db_id={{ db_id }}">
            {{ form2.hidden_tag() }}
            <input type="hidden" name="_method" value="DELETE">
            <div class="field">
                <input class="input is-large" type="text" name="key" placeholder="Key">
            </div>
            <button class="button is-block is-info is-large" type="submit">Remove</button>
        </form>
        {% if error2 %}
        <p class="error"><strong>Error:</strong> {{ error2 }}</p>
        {% endif %}
    </div>
</div>
{% endblock %}
